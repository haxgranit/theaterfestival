- if @productions.present?
  %section.search
    %h1 Find title
    = simple_form_for :search, url: search_productions_path, wrapper: :horizontal_form, defaults: { required: false }, method: :get, remote: true do |f|
      = f.input :title, as: :string
      %h1 Where would you like to see a show?
      = simple_fields_for :conditions, wrapper: :horizontal_form, defaults: { required: false, as: :boolean } do |a|
        = a.input 'showtimes.venue.city', as: :string, placeholder: '', label: 'City'
        = a.input 'showtimes.venue.state', as: :string, placeholder: '', label: 'State'
        = a.input 'showtimes.venue.zip', as: :string, placeholder: '', label: 'Zip'
        %section.filters
          %h2 Filter Search
          - @productions.aggs.each do |agg|
            - agg_name = agg[0]
            - agg_keys = agg[1]
            - agg_count = agg_keys.dig('buckets', 1, 'doc_count')
            - if agg_count.try :nonzero?
              = a.input agg_name, label: "#{I18n.t agg_name} (#{agg_count})"
      = f.button :submit, 'Search', class: 'btn-primary form-group row'

-# %section.price
-#   %h2 Price Range
-#   %input#price_range{"data-slider-max" => "1000", "data-slider-min" => "10", "data-slider-step" => "5", "data-slider-value" => "[20,800]", type: "text", value: ""}/
