- if @company.productions.present?
  %h2 Productions
  .block-grid
    - @productions = @company.productions.page(params[:production_page])
    - for production in @productions
      %figure.block-grid-item.frontpage-show
        - if production.key_image_id.present?
          = attachment_image_tag production, :key_image, :fill, 150, 200
        - else
          = image_tag('unknown.png', size: '150x200')
        %figurecaption
          %span.full-title
            %span.title>
              = link_to truncate(production.title, length: 25), production
          - if production.company.present?
            %span.company
              = link_to production.company.name, production.company
          - if production.venues.present?
            %span.venue
              = link_to(production.venues.first.name, production.venues.first) if production.venues.present?
          = render partial: 'shared/social_buttons', locals: { target: production }
  = paginate @productions, param_name: :production_page

- if @company.coproductions.present?
  %h2 Coproductions
  .block-grid
    - @coproductions = @company.coproductions.page(params[:coproductions_page])
    - for production in @coproductions
      %figure.block-grid-item.frontpage-show
        - if production.key_image_id.present?
          = attachment_image_tag production, :key_image, :fill, 150, 200
        - else
          = image_tag('unknown.png', size: '150x200')
        %figurecaption
          %span.full-title
            %span.title>
              = link_to truncate(production.title, length: 25), production
          - if production.company.present?
            %span.company
              = link_to production.company.name, production.company
          - if production.venues.present?
            %span.venue
              = link_to(production.venues.first.name, production.venues.first) if production.venues.present?
          = render partial: 'shared/social_buttons', locals: { target: production }
  = paginate @coproductions

- if @company.festivals.present?
  %h2 Festivals
  .block-grid
    - @festivals = @company.festivals.page(params[:festivals_page])
    - for festival in @festivals
      %figure.block-grid-item.frontpage-show
        - if festival.festival_image_id.present?
          = attachment_image_tag festival, :festival_image, :fill, 150, 200
        - else
          = image_tag('unknown.png', size: '150x200')
        %figurecaption
          %span.full-title
            %span.title>
              = link_to truncate(festival.title, length: 25), festival
          = render partial: 'shared/social_buttons', locals: { target: production }
  = paginate @festivals
